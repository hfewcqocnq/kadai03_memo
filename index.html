<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="js/jquery-3.5.1.min.js"></script>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/style.css">
  <title>メモ帳</title>
</head>
<body>
  <h1>ひとりごつアプリ</h1>
  <p>独り言を誰にも見られずつぶやきたい時▶ひとりごつ</p>
  <p>嫌なことやモヤモヤをつぶやきたい時▶討伐</p>
  <main>
    <div class="input-area">
      <input id="title" type="text" size="61" placeholder="タイトルを入力">
      <textarea id="text" rows="5" cols="70" placeholder="本文を入力"></textarea>
    </div>
    <div class="button-area">
      <button id="save">ひとりごつ</button>
      <button id="touroku">討伐</button>
      <button id="clear">削除</button>
    </div>
  </main>
  <ul id="list"></ul>
  <div id="imghyouzi"></div>
  
<script>
  const audio = new Audio('audio/hitorigotu.mp3');
document.getElementById('save').addEventListener('click', () => {
  audio.play();
});

const sound = new Audio('audio/nanntokanare.mp3');
document.getElementById('touroku').addEventListener('click', () => {
  sound.play();
});

const sakuzyo = new Audio('audio/tapasuta.mp3');
document.getElementById('clear').addEventListener('click', () => {
  sakuzyo.play();
});

// ボタンをおしたら表示がしたい
  $("#save").on("click",function(){
    const output = document.getElementById('imghyouzi');
    imghyouzi.innerHTML = "<img src ='img/hitorigotu.jpg'>";
    });
  
    $("#touroku").on("click",function(){
    const output = document.getElementById('imghyouzi');
    imghyouzi.innerHTML = "<img src ='img/nanntokanare.jpg'>";
    });

    // $("#clear").on("click",function(){
    //   const element = document.getElementById('imghyouzi'); element.remove();
    // });


  $("#save").on("click",function(){
    const key = $("#title").val();
    const value = $("#text").val();

    localStorage.setItem(key,value);
    const html = `
    <li>
      <p>${key}</p>
      <p>${value}</p>
    </li>
    `;
  $("#list").append(html);
  });

  $("#touroku").on("click",function(){
    const key = $("#title").val();
    const value = $("#text").val();

    localStorage.setItem(key,value);
    const html = `
    <li>
      <p>${key}</p>
      <p>${value}</p>
    </li>
    `;
  $("#list").append(html);
  });

  $("#clear").on("click", function () {
      localStorage.clear();
      $("#list").empty();
  });

  for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);
    const value = localStorage.getItem(key);
    const html = `
      <li>
        <p>${key}</p>
        <p>${value}</p>
      </li>
    `;
    $("#list").append(html);
  };
  
</script>  
</body>
</html>